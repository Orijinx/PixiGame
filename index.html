<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Hello World</title>
</head>
<script src="js/pixi.min.js"></script>
<style>
    * {
        padding: 0;
        margin: 0
    }
</style>

<body>
    <script type="text/javascript">
        let Application = PIXI.Application,
            Container = PIXI.Container,
            loader = PIXI.loader,
            resources = PIXI.loader.resources,
            Graphics = PIXI.Graphics,
            TextureCache = PIXI.utils.TextureCache,
            Sprite = PIXI.Sprite,
            Text = PIXI.Text,
            TextStyle = PIXI.TextStyle;
        keyboard = PIXI.keyboard;
        //Создать приложение Pixi
        let app = new PIXI.Application({
            antialias: true, // default: false
            transparent: false, // default: false
            resolution: 1 // default: 1
        });

        app.renderer.view.style.position = "absolute";
        app.renderer.view.style.display = "block";
        app.renderer.autoResize = true;
        app.renderer.resize(window.innerWidth, window.innerHeight);

        //Добавить холст, который Pixi автоматически создал для вас, в HTML-документ
        document.body.appendChild(app.view);

        //load an image and run the `setup` function when it's done
        PIXI.loader.add("images/s.png").load(setup);
        PIXI.loader.on("progress", loadProgressHandler);

        var cat, state;



        function loadProgressHandler(loader, resource) {
            console.log("loading");
            //Display the file `url` currently being loaded
            console.log("loading: " + resource.url);

            //Display the percentage of files currently loaded
            console.log("progress: " + loader.progress + "%");

            //If you gave your files names as the first argument 
            //of the `add` method, you can access them like this
            //console.log("loading: " + resource.name);
        }
        //This `setup` function will run when the image has loaded
        function setup() {


            //Create the cat sprite
            cat = new Sprite(resources["images/s.png"].texture);
            cat.y = 96;
            cat.vx = 0;
            cat.vy = 0;

            let style = new TextStyle({
                fontFamily: "Arial",
                fontSize: 36,
                fill: "white",
                stroke: '#ff3300',
                strokeThickness: 4,
                dropShadow: true,
                dropShadowColor: "#000000",
                dropShadowBlur: 4,
                dropShadowAngle: Math.PI / 6,
                dropShadowDistance: 6,
            });
            console.log(app.renderer.view.height)
            let message = new Text("Hello Pixi!", style);
            message.position.set(app.renderer.view.width / 2, app.renderer.view.height / 2);
            app.stage.addChild(message);
            app.stage.addChild(cat);
            //Set the game state

            state = play;
            app.ticker.add(delta => gameLoop(delta));
        }

        function gameLoop(delta) {

            //Update the current game state:
            state(delta);
        }

        function play(delta) {

            //Use the cat's velocity to make it move
            cat.x += cat.vx;
            cat.y += cat.vy
        }
    </script>
</body>

</html>